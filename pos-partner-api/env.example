# ============================================================================
# POS Partner API - Environment Variables
# Copy this file to .env and fill in real values
# ============================================================================

# Server
NODE_ENV=production
PORT=4000
API_PREFIX=/api/partner

# PostgreSQL (Supabase Direct Connection)
# Use the direct connection string from Supabase Dashboard → Settings → Database
DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000

# Supabase (for service role operations if needed)
SUPABASE_URL=https://[project-ref].supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# AWS S3 (for export file storage)
AWS_REGION=ap-south-1
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
S3_BUCKET_NAME=sameday-pos-exports
S3_SIGNED_URL_EXPIRY=3600

# Razorpay POS Webhook
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret

# Security
HMAC_TIMESTAMP_TOLERANCE_MS=300000
MAX_PAGE_SIZE=100
DEFAULT_PAGE_SIZE=50

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Export Worker
EXPORT_WORKER_POLL_INTERVAL_MS=5000
EXPORT_WORKER_BATCH_SIZE=5000
EXPORT_STREAM_HIGH_WATER_MARK=1000

# Logging
LOG_LEVEL=info
LOG_FILE=./logs/api.log

# CORS (comma-separated origins)
ALLOWED_ORIGINS=https://samedaysolution.in,https://admin.samedaysolution.in

# Test Scripts (for development/testing only - not used in production)
# These are used by scripts/checkTransactions.js, scripts/testApi.js, etc.
TEST_API_KEY=pk_live_YOUR_API_KEY_HERE
TEST_API_SECRET=sk_live_YOUR_API_SECRET_HERE
TEST_PARTNER_ID=your-partner-uuid-here
API_BASE_URL=https://api.samedaysolution.in


